<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      <title>
               The Shape Of Words To Come: Lojban Morphology - The Lojban Reference Grammar
      </title>
      <link rel="stylesheet" type="text/css" href="../../cll.css" />
      <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
   </head>
   <body>
      <table class="nav" width="100%">
         <tr>
            <td width="15%" valign="top">
               <a href="../../4/10/">
                  Previous
               </a>
               <br />
               <em>
                  Considerations for making lujvo
               </em>
            </td>
            <td align="center">
               <strong>
                        The Shape Of Words To Come: Lojban Morphology
               </strong>
               <br />
               <a href="../../">
                  <em>
                     <small>
                        The Lojban Reference Grammar
                     </small>
                  </em>
               </a>
            </td>
            <td width="15%" valign="top">
               <a href="../../4/12/">
                  Next
               </a>
               <br />
               <em>
                  The lujvo scoring algorithm
               </em>
            </td>
         </tr>
      </table>
      <hr />
          <h3>11. The lujvo-making algorithm</h3>

    <p>The following is the current algorithm for generating Lojban
    lujvo given a known tanru and a complete list of gismu and
    their assigned rafsi. The algorithm was designed by Bob
    LeChevalier and Dr. James Cooke Brown for computer program
    implementation. It was modified in 1989 with the assistance of
    Nora LeChevalier, who detected a flaw in the original
    “tosmabru test”.</p>

    <p>Given a tanru that is to be made into a lujvo:</p>

    <dl>
      <dt>1)</dt>
      <dd>Choose a 3-letter or 4-letter rafsi for each of the gismu
      and cmavo in the tanru except the last.</dd>

      <dt>2)</dt>
      <dd>Choose a 3-letter (CVV-form or CCV-form) or 5-letter
      rafsi for the final gismu in the tanru.</dd>

      <dt>3)</dt>
      <dd>Join the resulting string of rafsi, initially without
      hyphens.</dd>

      <dt>4)</dt>
      <dd>Add hyphen letters where necessary. It is illegal to add
      a hyphen at a place that is not required by this algorithm.
      Right-to-left tests are recommended, for reasons discussed
      below.

        <dl>
          <dt>4a)</dt>
          <dd>If there are more than two words in the tanru, put an
          “r”-hyphen (or an “n”-hyphen) after the first rafsi if it
          is CVV-form. If there are exactly two words, then put an
          “r”-hyphen (or an “n”-hyphen) between the two rafsi if
          the first rafsi is CVV-form, unless the second rafsi is
          CCV-form (for example, “saicli” requires no hyphen). Use an
          “r”-hyphen unless the letter after the hyphen is “r”, in
          which case use an “n”-hyphen. Never use an “n”-hyphen
          unless it is required.</dd>

          <dt>4b)</dt>
          <dd>Put a “y”-hyphen between the consonants of any
          impermissible consonant pair. This will always appear between
          rafsi.</dd>

          <dt>4c)</dt>
          <dd>Put a “y”-hyphen after any 4-letter rafsi form.</dd>
        </dl>
    </dd>

      <dt>5)</dt>
      <dd>Test all forms with one or more initial CVC-form rafsi
      &mdash; with the pattern “CVC ... CVC + X” &mdash; for “tosmabru
      failure”. X must either be a CVCCV long rafsi that happens
      to have a permissible initial pair as the consonant cluster,
      or is something which has caused a “y”-hyphen to be
      installed between the previous CVC and itself by one of the
      above rules.</dd>
      <dd>The test is as follows:

        <dl>
          <dt>5a)</dt>
          <dd>
          Examine all the C/C consonant pairs up to the first "y"-hyphen,
          or up to the end of the word in case there are no "y"-hyphens.</dd>

          <dd>These consonant pairs are called “joints”.</dd>

          <dt>5b)</dt>
          <dd>If all of those joints are permissible initials, then the
          trial word will break up into a cmavo and a shorter brivla.
          If not, the word will not break up, and no further hyphens
          are needed.</dd>

          <dt>5c)</dt>
          <dd>Install a “y”-hyphen at the first such joint.</dd>
        </dl>
      </dd>
    </dl>

    <p>Note that the “tosmabru test” implies that the algorithm
    will be more efficient if rafsi junctures are tested for
    required hyphens from right to left, instead of from left to
    right; when the test is required, it cannot be completed until
    hyphenation to the right has been determined.</p>


      <hr />
      <table class="nav" width="100%">
         <tr>
            <td width="15%" valign="top">
               <a href="../../4/10/">
                  Previous
               </a>
               <br />
               <em>
                  Considerations for making lujvo
               </em>
            </td>
            <td align="center">
               <strong>
                        The Shape Of Words To Come: Lojban Morphology
               </strong>
               <br />
               <a href="../../">
                  <em>
                     <small>
                        The Lojban Reference Grammar
                     </small>
                  </em>
               </a>
            </td>
            <td width="15%" valign="top">
               <a href="../../4/12/">
                  Next
               </a>
               <br />
               <em>
                  The lujvo scoring algorithm
               </em>
            </td>
         </tr>
      </table>
   </body>
</html>
