
==================
  Instructions For Helpers
==================

Most of the below is intended to be done as needed as you review a
particular chapter/section.  It looks like more complexity than it
actually is; you'll get used to it.

    SAY HERE WHAT YOU'VE DONE, including parts you haven't completed
    (like index work).

Robin Powell: 5.1, 5.2, 5.3
Zort: 3, 5

 ------

Ignore Chapter 2 for now.

 ------

If you have any trouble, add a FIXME comment, like so:

<!-- FIXME: detailed explanation here -->

 ------

Fix the chapter name so it's just the second part, i.e.

    <title>Chapter 5
      <quote>Pretty Little Girls' School</quote>: The Structure Of Lojban selbri</title>

becomes:

    <title><quote>Pretty Little Girls' School</quote>: The Structure Of Lojban selbri</title>

Make sure the <interlinear-gloss> bits look right in the output (which
is why the columns are so spaced out).

 ------

Fix IDs/tags.  A command like the following should do the trick:

  sed -i 's/"cll_chapter8-section1"/"chapter-relative-clauses-section-poi"/g' [0-9]*.xml

BUT FIRST: check that it doesn't already exist:

  grep '"chapter-relative-clauses-section-poi"' [0-9]*.xml

because duplicates would really suck.

Please run "git diff" afterwards to make sure it did what you
expected.  Check in as often as you like (to make the diffs
manageable).

We want short and meaningful; these are used to make file names and
so on.  If multi-word, please make a slug (see
http://en.wikipedia.org/wiki/Slug_%28web_publishing%29 ); we are
using - based slugs rather than _ based, so drop all special
characters, lowercase, replace space with -.

Make sure that the ids for chapters have "chapter-" at the start,
"section-" for the sections, and "example-" for the examples; we
might need them for auto-processing.

Do this for all sections.  Feel free to do it for examples too if an
example has an obvious title, but it's much less important there, so
not worth spending time on for the first pass.

References to examples should be changed to <xref>s, using the random
id of the example in question, e.g. <xref linkend="example-random-id-qjmr"/>

The important thing here is that *NOTHING* mentions a fixed number!
*NOWHERE* in the docbook should *ANYTHING* be aware that it is in
chapter 20 or section 7 or anything like that.  This is to give us
the freedom to move things around later.

Numeric-based stuff will all be autogenerated during processing,
based on the current state of the docs.

THERE IS ONE EXCEPTION: DO NOT change anchors that are one to three
pairs of letters and numbers, like this:

  <anchor xml:id="c5e1d5" />

They are going to be needed down the road to provide backwards
compatability.  Don't touch them.

 ------

Feel free to do visual cleanup *of the source*; don't worry about
how crappy the *output* looks, we're only doing data structures
right now.  In particular, there are a lot of elements with no space
after their terminators; it doesn't really matter, but it's
annoying.

 ------

If you see a <quote>...</quote> around Lojban text, replace it with
<jbophrase>...</jbophrase>.  There are lots of these.

Also, use <jbophrase valid="false">...</jbophrase> for purposeful na
gendra and <jbophrase valid="iffy">...</jbophrase> for na smudra

Turn letters, like <quote>l</quote>, into <jbophrase
role="letteral">l</jbophrase> (including ",", ".", and "'").

Similarily we have role="morphology" (consonant clusters),
role="diphthong", and role="rafsi".

 ------

<programlisting> is bad; change it.  If you can't figure out how to
change it, or think it's actually correct in some particular place,
post to the BPFK list.

 ------

If an example/interlinear-gloss consists solely of English, replace
the <interlinear-gloss>...</interlinear-gloss> with <para>...</para>

 ------

Make sure all the components of <example>s are appropriate wrapped in
<jbo>, <gloss>, <en>, or <ipa> (if it doesn't fit one of those, make
up a tag and report it). Many of the non-three-part examples are
messed up like this.

 ------
 
Entries like <indexterm type="lojban-word-imported"> (NOTE the type)
probably need to be destroyed; there should be a bit of Lojban near
them that can be wrapped in <jbophrase>, to exactly the same effect
as the <indexterm> entry.  If you can't find such a correspondance,
add a FIXME comment.

 ------
 
Entries like <indexterm type="example-imported"> (NOTE the type)
need to be moved into examples.

Especially things like this:

  <para> <indexterm type="example-imported"><primary>lemon tree</primary><secondary>example</secondary></indexterm> FIXME: TAG SPOT</para>

which are artificial paragraphs solely for index importing.

All such indexterm entries should end up in the example itself, like so:

  <title>
    <indexterm type="example-imported"><primary>lemon tree</primary><secondary>example</secondary></indexterm>
    <anchor xml:id="c5e2d1"/>
  </title>

 ------

==================
  Data
==================
- The per-section cmavo lists should be like this:
   <cmavo-list>
     <cmavo-entry>
       <cmavo>ke</cmavo>
       <selmaho>KE</selmaho>
       <description>start grouping</description>
     </cmavo-entry>
   ...
   </cmavo-list>
  - also need to wrap the lojban words there in a way that does
    indexing, and ideally auto-generation of the cmavo-per-selmaho
    lists we want for chapter 20
      - does the <cmavo-list> structure achieve this?
- It seems that there is a problem with the cmavo lists at the
  beginning of sections having missing entries; in particular, ones
  wwith + in the selma'o, maybe?; they need to be manually checked
- lojban words, lojban phrases, terms of art ("abstraction"),
  others?... should each have their own index
- cll_chapter5-section1 should be content-words-brivla or so ; those
  IDs should not change when things are moved around
- list the members of each selma'o in chapter 20
- make sure the examples that aren't interlinear glosses don't have
  that as their role
   - so far there's also role="pronunciation-example", probably need more
- <phrase role="IPA">âˆž</phrase> is *not* IPA
- <@xalbo> I do think having distinct structures for quoted correct
  lojban and for intentionally incorrect lojban (if there's any, but
  I would expect there is) would probably be a good thing. <@xalbo>
  (found one: search for djeimz) <@xalbo> I see three cases, though
  I don't know if they're all represented in the text: valid, good
  lojban, invalid lojban, and something in between ({lo nanmu
  bajra}, for instance; maybe worth flagging with a "this isn't what
  you think it is" type of thing
  - use <jbophrase valid="false">...</jbophrase> for purposely na
      gendra and <jbophrase valid="iffy">...</jbophrase> for na smudra
- In the mediaobjects in chapter 1, can we do better than <alt>The
  picture for chapter 20</alt> in terms of non-numerical cross
  referencing?
- Replace chapter xrefs with section xrefs
- Fix all FIXMEs; in particular the output of:
  grep 'FIXME:' [0-9]*.xml | grep -v 'TAG SPOT'

==================
  Display
==================
- links to examples should *say* "example N"; easy to test from the
  index
- links to sections should say the number of section and chapter
- examples should be 5.2.1 rather than 5.6 for the first example in
  section 2 of chapter 5
- print: Add a header or footer to the left or the right page that
  has the number of the chapter you're in.

==================
  Both/Other
==================
- make sure backwards-compatible anchors exist
  - Ideally, make sure they are autogenerated as part of the HTML
    production.
- Similarily, generate more-readable anchors based on current
  section number and such
